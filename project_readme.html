<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trade Republic PDF Extractor & Portfolio Analyzer</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
            line-height: 1.6;
            color: #24292e;
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
            background-color: #ffffff;
        }
        h1, h2, h3 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
        }
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h3 { font-size: 1.25em; }
        p { margin-top: 0; margin-bottom: 16px; }
        code {
            padding: 0.2em 0.4em;
            margin: 0;
            font-size: 85%;
            background-color: #f6f8fa;
            border-radius: 3px;
            font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
        }
        pre {
            padding: 16px;
            overflow: auto;
            font-size: 85%;
            line-height: 1.45;
            background-color: #f6f8fa;
            border-radius: 3px;
        }
        pre code {
            display: inline;
            padding: 0;
            margin: 0;
            overflow: visible;
            line-height: inherit;
            word-wrap: normal;
            background-color: transparent;
            border: 0;
        }
        ul, ol { padding-left: 2em; margin-top: 0; margin-bottom: 16px; }
        li { margin: 0.25em 0; }
        img { max-width: 100%; box-sizing: border-box; }
        hr {
            height: 0.25em;
            padding: 0;
            margin: 24px 0;
            background-color: #e1e4e8;
            border: 0;
        }
        blockquote {
            padding: 0 1em;
            color: #6a737d;
            border-left: 0.25em solid #dfe2e5;
            margin: 0 0 16px 0;
        }
        a { color: #0366d6; text-decoration: none; }
        a:hover { text-decoration: underline; }
    </style>
</head>
<body>

<h1>Trade Republic PDF Extractor & Portfolio Analyzer</h1>

<p>Una herramienta moderna, segura y de c√≥digo abierto para extraer, analizar y visualizar tus transacciones de Trade Republic directamente desde los extractos oficiales en PDF.</p>

<p><img src="https://via.placeholder.com/800x400?text=Dashboard+Preview" alt="Dashboard Preview"></p>

<h2>‚ú® Caracter√≠sticas Principales</h2>

<ul>
<li><strong>Privacidad Total:</strong> Todo el procesamiento se realiza localmente en tu navegador. Tus datos financieros nunca salen de tu ordenador.</li>
<li><strong>An√°lisis de Portfolio (FIFO):</strong> C√°lculo autom√°tico de ganancias y p√©rdidas hist√≥ricas utilizando el m√©todo FIFO (First-In, First-Out).</li>
<li><strong>Edici√≥n y Rec√°lculo:</strong> Posibilidad de corregir fechas de transacciones manualmente y recalcular todo el reporte al instante.</li>
<li><strong>Dashboard Interactivo:</strong> Visualiza tu rendimiento mensual, distribuci√≥n de beneficios por activo y m√©tricas clave (Ganancia Total, P√©rdida Total, Neto).</li>
<li><strong>Exportaci√≥n Flexible:</strong> Descarga tus datos en formatos JSON, CSV o Excel para usarlos en otras herramientas o para tu declaraci√≥n de impuestos.</li>
<li><strong>Soporte Multi-idioma:</strong> Detecta y procesa extractos en espa√±ol, ingl√©s, alem√°n e italiano.</li>
</ul>

<hr>

<h2>üöÄ C√≥mo Empezar</h2>

<h3>Paso 1: Obtener tu Extracto de Cuenta (PDF)</h3>

<p>Para usar esta herramienta, necesitas el extracto de cuenta oficial (Account Statement) que proporciona Trade Republic. Sigue estos pasos para obtenerlo:</p>

<ol>
<li>Abre la aplicaci√≥n de <strong>Trade Republic</strong> en tu m√≥vil.</li>
<li>Ve a tu <strong>Perfil</strong> (icono de persona en la esquina superior izquierda).</li>
<li>Despl√°zate hacia abajo hasta la secci√≥n <strong>Actividad</strong> o <strong>Documentos</strong>.</li>
<li>Busca <strong>"Extracto de Cuenta"</strong> (Account Statement) o "Saldo de Cuenta".</li>
<li>Selecciona el rango de fechas que desees (se recomienda descargar el historial completo para un c√°lculo FIFO preciso).</li>
<li>Pulsa en <strong>Descargar</strong> o <strong>Compartir</strong>.</li>
<li>Env√≠a el archivo PDF a tu correo electr√≥nico (Gmail, Outlook, etc.) o gu√°rdalo en tu nube (Google Drive, iCloud) para acceder a √©l desde tu ordenador.</li>
</ol>

<h3>Paso 2: Ejecutar la Aplicaci√≥n</h3>

<p>Para facilitar el uso, hemos incluido scripts autom√°ticos que inician un servidor local seguro y abren la aplicaci√≥n en tu navegador. Los logs del servidor se han ocultado para mantener la consola limpia.</p>

<h4>En Windows ü™ü</h4>
<ol>
<li>Busca el archivo <code>run.bat</code> en la carpeta del proyecto.</li>
<li>Haz doble clic sobre √©l.</li>
<li>Se abrir√° una ventana de consola (sin logs molestos) y autom√°ticamente se lanzar√° tu navegador en modo inc√≥gnito en <code>http://localhost:9000</code>.</li>
<li>Para cerrar la aplicaci√≥n, simplemente vuelve a la ventana de la consola y pulsa cualquier tecla.</li>
</ol>

<h4>En macOS üçé</h4>
<ol>
<li>Busca el archivo <code>run.command</code> en la carpeta del proyecto.</li>
<li>Haz doble clic sobre √©l.</li>
<li>Se abrir√° una terminal y lanzar√° tu navegador predeterminado en modo inc√≥gnito.</li>
<li>Para salir, pulsa cualquier tecla en la terminal.</li>
</ol>

<h4>En Linux üêß</h4>
<ol>
<li>Abre tu terminal y navega hasta la carpeta del proyecto.</li>
<li>Ejecuta el script con el comando:
<pre><code>./run.sh
</code></pre>
<em>(Si tienes problemas de permisos, ejecuta primero <code>chmod +x run.sh</code>)</em></li>
<li>El servidor se iniciar√° y abrir√° tu navegador.</li>
</ol>

<h3>Paso 3: Cargar y Analizar</h3>

<ol>
<li>Una vez abierta la aplicaci√≥n en el navegador, arrastra y suelta tu archivo PDF en el √°rea designada o haz clic para seleccionarlo.</li>
<li>Espera unos segundos mientras la herramienta procesa el documento.</li>
<li>¬°Listo! Navega por las pesta√±as para ver tus transacciones, gr√°ficos y reportes fiscales.</li>
</ol>

<hr>

<h2>üìä Funcionalidades Detalladas</h2>

<p>La aplicaci√≥n organiza la informaci√≥n en varias pesta√±as para facilitar su an√°lisis:</p>

<h3>1. Transacciones de Efectivo</h3>
<p>Esta es la vista principal de tus movimientos bancarios.</p>
<ul>
<li><strong>Qu√© ves:</strong> Una tabla detallada con cada movimiento de dinero (entradas y salidas).</li>
<li><strong>Columnas:</strong> Fecha, Tipo de operaci√≥n, Descripci√≥n/Nombre, Cantidad, Dinero que entra (Incoming) y Dinero que sale (Outgoing).</li>
<li><strong>Edici√≥n:</strong> Puedes modificar manualmente la fecha (<code>date_iso</code>) si detectas discrepancias con la fecha real de la operaci√≥n.</li>
<li><strong>Botones de Acci√≥n:</strong>
<ul>
<li><strong>Guardar y Recalcular:</strong> Si has editado alguna fecha, pulsa este bot√≥n para regenerar todos los c√°lculos (FIFO, impuestos, gr√°ficos) con la nueva informaci√≥n.</li>
<li><strong>CSV / Excel:</strong> Descarga la tabla tal cual la ves para abrirla en Excel o Google Sheets.</li>
<li><strong>Exportar Extracto (JSON):</strong> Genera un archivo <code>extracto.json</code> con todos los datos crudos procesados del PDF. Ideal para copias de seguridad o an√°lisis program√°tico.</li>
</ul>
</li>
</ul>

<h3>2. Gr√°ficos</h3>
<p>Un dashboard visual para entender tu rendimiento global.</p>
<ul>
<li><strong>Qu√© ves:</strong>
<ul>
<li><strong>KPIs:</strong> Tarjetas con tu Ganancia Total, P√©rdida Total, Beneficio Neto y Promedio Mensual.</li>
<li><strong>Rendimiento Mensual:</strong> Un gr√°fico de barras que muestra cu√°nto ganaste o perdiste mes a mes.</li>
<li><strong>Distribuci√≥n de Beneficios:</strong> Un gr√°fico circular (Donut) que te dice qu√© activos (acciones/ETFs) han contribuido m√°s a tus ganancias.</li>
</ul>
</li>
</ul>

<h3>3. Fondos Monetarios</h3>
<p>Una secci√≥n dedicada a los movimientos de liquidez.</p>
<ul>
<li><strong>Qu√© ves:</strong> Transacciones relacionadas con intereses generados por el efectivo no invertido o fondos del mercado monetario.</li>
</ul>

<h3>4. Trading P&L (Beta)</h3>
<p>La herramienta m√°s potente para el c√°lculo fiscal y an√°lisis de rentabilidad.</p>
<ul>
<li><strong>Nota Importante:</strong> Esta secci√≥n est√° en Beta. Los c√°lculos se realizan mediante ingenier√≠a inversa de los extractos (Neto -> Bruto) asumiendo las tasas impositivas est√°ndar.</li>
<li><strong>Limitaciones:</strong> No se tienen en cuenta criptomonedas ni derivados liquidados (estos √∫ltimos pueden figurar como posici√≥n abierta).</li>
<li><strong>Qu√© ves:</strong>
<ul>
<li><strong>Posiciones Activas:</strong> Una tabla con las acciones que a√∫n tienes en cartera, calculando su coste medio de adquisici√≥n y cantidad total.</li>
<li><strong>Ganancias y P√©rdidas Hist√≥ricas (FIFO):</strong> Una tabla con cada venta realizada, desglosando:
<ul>
<li><em>Venta Neta:</em> Lo que recibiste en el banco.</li>
<li><em>Coste Base:</em> Cu√°nto te costaron esas acciones originalmente (seg√∫n FIFO).</li>
<li><em>Resultado:</em> Tu ganancia o p√©rdida real antes de impuestos.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Botones de Descarga:</strong>
<ul>
<li><strong>Descargar FIFO (JSON):</strong> Genera el archivo <code>operaciones_realizadas_fifo.json</code>. Contiene el detalle de cada venta, incluyendo el <strong>% de ganancia neta</strong> por operaci√≥n, impuestos estimados y comisiones.</li>
<li><strong>Descargar Ingresos (JSON):</strong> Genera el archivo <code>ingresos_dividendos_intereses.json</code>. Agrupa tus ingresos pasivos por a√±o y mes, categorizados claramente en <strong>"Dividendos"</strong>, <strong>"Inter√©s"</strong> y <strong>"Saveback"</strong>.</li>
</ul>
</li>
</ul>

<h3>5. Desglose de Ventas</h3>
<p>Una vista detallada y amigable de cada operaci√≥n de venta realizada.</p>
<ul>
<li><strong>Qu√© ves:</strong> Un listado de acordeones desplegables para cada venta.
<li><strong>Resumen:</strong> De un vistazo ves el activo, la fecha y el beneficio neto (en verde o rojo).</li>
<li><strong>Detalle:</strong> Al desplegar, accedes a toda la informaci√≥n de la operaci√≥n:
<ul>
<li><strong>Operaci√≥n de Venta:</strong> Cantidad, precio de venta, importe bruto y neto.</li>
<li><strong>Resultado:</strong> Desglose de beneficio bruto, comisiones, impuestos y beneficio neto final.</li>
<li><strong>Lotes de Compra (FIFO):</strong> Una tabla que muestra exactamente qu√© compras anteriores se utilizaron para calcular el coste de esta venta (fecha, cantidad y precio de compra de cada lote).</li>
</ul>
</li>
</ul>

<h3>6. Resumen de Resultados</h3>
<p>Una vista final de auditor√≠a.</p>
<ul>
<li><strong>Qu√© ves:</strong> Un resumen del n√∫mero total de transacciones procesadas y alertas sobre posibles inconsistencias en los saldos (si las hubiera).</li>
</ul>

<hr>

<h2>üõ†Ô∏è Tecnolog√≠as Utilizadas</h2>

<ul>
<li><strong>PDF.js:</strong> Para la lectura y extracci√≥n de texto de los archivos PDF.</li>
<li><strong>Chart.js:</strong> Para la generaci√≥n de gr√°ficos interactivos y visualmente atractivos.</li>
<li><strong>Tailwind CSS:</strong> Para un dise√±o moderno, limpio y responsivo.</li>
<li><strong>JavaScript (ES6+):</strong> L√≥gica de procesamiento de datos y c√°lculo financiero.</li>
</ul>

<hr>

<h2>‚ù§Ô∏è Agradecimientos y Cr√©ditos</h2>

<p>Este proyecto se ha construido sobre la base de la comunidad de c√≥digo abierto. Un agradecimiento especial a:</p>

<ul>
<li><strong><a href="https://github.com/jcmpagel/Trade-Republic-CSV-Excel">jcmpagel</a></strong>: Por su excelente trabajo pionero en la l√≥gica de extracci√≥n de datos de Trade Republic, que ha servido de inspiraci√≥n y base para partes del parser de esta herramienta.</li>
</ul>

<hr>

<h2>‚ö†Ô∏è Aviso Legal</h2>

<p>Esta herramienta se proporciona "tal cual" y es de c√≥digo abierto. Aunque nos esforzamos por garantizar la precisi√≥n de los c√°lculos, <strong>no somos asesores financieros ni fiscales</strong>.</p>

<ul>
<li><strong>Margen de Error:</strong> Los c√°lculos de Trading P&L se basan en la ingenier√≠a inversa de los extractos y pueden tener un margen de error debido a redondeos o comisiones complejas.</li>
<li><strong>Impuestos:</strong> Se presupone que el c√°lculo de impuestos realizado por la App de Trade Republic es correcto. Si el extracto original contiene errores, esta herramienta los reflejar√°.</li>
<li><strong>Verificaci√≥n:</strong> Siempre verifica los resultados con tus propios registros y documentos oficiales antes de presentar cualquier declaraci√≥n fiscal.</li>
</ul>

<hr>

<p><em>Desarrollado con pasi√≥n para la comunidad inversora.</em></p>

</body>
</html>
